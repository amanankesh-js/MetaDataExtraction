

id SERIAL PRIMARY KEY,
stage TEXT CHECK (stage IN ('download', 'inference', 'db_insertion')),
priority INTEGER NOT NULL,
s3_key TEXT NOT NULL,
filename TEXT NOT NULL,
config JSONB NOT NULL,
metadata JSONB DEFAULT NULL,
local_path TEXT DEFAULT NULL,
processed_output TEXT DEFAULT NULL,
download_time REAL,
inference_time REAL,
db_insertion_time REAL,
infer_logs JSONB,
status TEXT CHECK (status IN ('pending', 'in_progress', 'done', 'failed')) DEFAULT 'pending',
updated_at TIMESTAMP DEFAULT NOW(),
CONSTRAINT unique_s3_key UNIQUE (s3_key)



id TEXT PRIMARY KEY,
movie TEXT,
second INT,
model TEXT,
temperature DECIMAL(3, 2),
objects TEXT[],
object_count JSONB,
gender TEXT[],
ocr_text TEXT[],
noticeable_objects_top TEXT[],
noticeable_objects_bottom TEXT[],
unnoticeable_objects_top TEXT[],
unnoticeable_objects_bottom TEXT[],
scene_emotion TEXT[],
age_group TEXT[],
scene_tags TEXT[],
scene_label TEXT,
weather TEXT,
day_night INT,
person_emotion TEXT[],
clarity_of_image TEXT,
actions TEXT[],
celebrity TEXT[],
timestamp TEXT,
brand_based_on_logos TEXT[],
location TEXT[],
setting TEXT[],
description TEXT,
sentiment TEXT